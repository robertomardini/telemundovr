<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="utf-8" />
    <title>Ver en VR – YouTube en A-Frame</title>
    <meta
      name="description"
      content="Botón para entrar en VR y reproducir un vídeo de YouTube dentro de un entorno A-Frame"
    />
    <!-- A-Frame -->
    <script src="https://aframe.io/releases/1.4.2/aframe.min.js"></script>
    <!-- Componente iframe para incrustar páginas web -->
    <script src="https://unpkg.com/aframe-iframe-component@3.0.2/dist/aframe-iframe-component.min.js"></script>
    <style>
      html,
      body {
        margin: 0;
        padding: 0;
        width: 100%;
        height: 100%;
        overflow: hidden;
      }
      /* Botón centrado */
      #startBtn {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        padding: 1em 2em;
        font-size: 1.2em;
        cursor: pointer;
      }
      /* Contenedor de la escena VR, oculto inicialmente */
      #vrContainer {
        display: none;
        width: 100%;
        height: 100%;
      }
      /* Ajuste de los botones VR / fullscreen */
      .a-enter-vr-button,
      .a-fullscreen-button {
        position: fixed !important;
        bottom: env(safe-area-inset-bottom, 20px) !important;
        width: 40px !important;
        height: 40px !important;
        z-index: 9999 !important;
      }
      .a-enter-vr-button {
        left: calc(50% - 30px) !important;
      }
      .a-fullscreen-button {
        left: calc(50% + 10px) !important;
      }
    </style>
  </head>
  <body>
    <!-- Botón para activar VR -->
    <button id="startBtn">Ver en VR</button>

    <!-- Aquí se carga la escena A-Frame -->
    <div id="vrContainer">
      <a-scene vr-mode-ui="enabled: true">
        <!-- Cámara con cursor y controllers para VR -->
        <a-entity camera look-controls>
          <a-cursor
            fuse="false"
            raycaster="objects: .interactive"
          ></a-cursor>
          <a-entity
            laser-controls="hand: left"
            raycaster="objects: .interactive"
          ></a-entity>
          <a-entity
            laser-controls="hand: right"
            raycaster="objects: .interactive"
          ></a-entity>
        </a-entity>

        <!-- Plano con el reproductor de YouTube incrustado -->
        <a-entity
          class="interactive"
          iframe="src: https://www.youtube.com/embed/0zMi6kHo19o?autoplay=0; width:16; height:9"
          geometry="primitive: plane; width:16; height:9"
          position="0 2 -4"
        ></a-entity>
      </a-scene>
    </div>

    <script>
      // Mostrar la escena VR al pulsar el botón
      document.getElementById('startBtn').addEventListener('click', function () {
        this.style.display = 'none';
        document.getElementById('vrContainer').style.display = 'block';
      });
    </script>
  </body>
</html>
